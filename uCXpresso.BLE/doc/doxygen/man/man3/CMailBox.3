.TH "CMailBox" 3 "Sun Mar 9 2014" "Version v1.0.2" "uCXpresso.BLE" \" -*- nroff -*-
.ad l
.nh
.SH NAME
CMailBox \- 
.SH SYNOPSIS
.br
.PP
.PP
\fC#include 'class/mailbox\&.h'\fP
.PP
Inherits \fBCObject\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBCMailBox\fP (LPCTSTR name, int \fBcount\fP=DEF_MAIL_COUNT)"
.br
.ti -1c
.RI "virtual MESSAGE_T \fBwait\fP (uint32_t timeout=MAX_DELAY_TIME)"
.br
.ti -1c
.RI "virtual MESSAGE_T \fBpeek\fP (uint32_t timeout=MAX_DELAY_TIME)"
.br
.ti -1c
.RI "virtual int \fBcount\fP ()"
.br
.ti -1c
.RI "virtual bool \fBpost\fP (MESSAGE_T msg, uint32_t timeout=MAX_DELAY_TIME)"
.br
.ti -1c
.RI "void \fBreset\fP ()"
.br
.in -1c
.SS "Static Public Member Functions"

.in +1c
.ti -1c
.RI "static bool \fBpost\fP (LPCTSTR name, MESSAGE_T msg, uint32_t timeout=0)"
.br
.in -1c
.SH "Detailed Description"
.PP 
Use the CMailbox to receive a message pointer from sender\&. 
.SH "Constructor & Destructor Documentation"
.PP 
.SS "CMailBox::CMailBox (LPCTSTRname, intcount = \fCDEF_MAIL_COUNT\fP)"
Constructs a \fBCMailBox\fP object\&. 
.PP
\fBParameters:\fP
.RS 4
\fIname\fP is a string to point to describe the name of mailbox\&. 
.br
\fIcount\fP is a integer value to specified the maximum number of message can be contain\&.
.RE
.PP
.PP
.nf
Example:
        class CLedTask: public CThread {
        protected:
            virtual void run() {
            CBus leds(LED2, LED3, LED4, END);
            CMailBox mail("LED");
            int *i;
            while(1) {
                i = (int *) mail\&.wait();
                if ( i ) {
                    leds[*i] = !leds[*i];
                }
            }
            }
    };
.fi
.PP
 
.SH "Member Function Documentation"
.PP 
.SS "virtual MESSAGE_T CMailBox::wait (uint32_ttimeout = \fCMAX_DELAY_TIME\fP)\fC [virtual]\fP"
Call the member function to wait a message from sender\&. 
.PP
\fBParameters:\fP
.RS 4
\fItimeout\fP is an amount of time the task should block for a message to receive\&. 
.RE
.PP
\fBReturns:\fP
.RS 4
MESSAGE_T 
.RE
.PP

.SS "virtual MESSAGE_T CMailBox::peek (uint32_ttimeout = \fCMAX_DELAY_TIME\fP)\fC [virtual]\fP"
Receive a message from mail box without remove 
.SS "virtual int CMailBox::count ()\fC [virtual]\fP"
Call the member function to retrieve the number of message stored in the mailbox\&. 
.PP
\fBReturns:\fP
.RS 4
number of message\&. 
.RE
.PP

.SS "virtual bool CMailBox::post (MESSAGE_Tmsg, uint32_ttimeout = \fCMAX_DELAY_TIME\fP)\fC [virtual]\fP"
Call the member function to send a message to receiver 
.SS "static bool CMailBox::post (LPCTSTRname, MESSAGE_Tmsg, uint32_ttimeout = \fC0\fP)\fC [static]\fP"
Call the member function to send a message to receiver which the same mailbox name\&. 
.PP
\fBParameters:\fP
.RS 4
\fIname\fP is a string to point to which the same name of mailbox to be received the message\&. 
.br
\fImsg\fP is a pointer to the message (void*)\&. 
.br
\fItimeout\fP is a time to wait for post\&. (Default zero) 
.RE
.PP
\fBReturns:\fP
.RS 4
true if post the message successful; otherwise, pose failed\&.
.RE
.PP
.PP
.nf
Example:
    class Task1: public CThread {
    protected:
    virtual void run() {
        int i=0;
        while(1) {
            CMailBox::post(MAIL_LED, &i);
            sleep(500);
        }
    }
 };
.fi
.PP
 
.PP
\fBRemarks:\fP
.RS 4
The \fBCMailBox::post\fP is a static function\&. 
.RE
.PP

.SS "void CMailBox::reset ()"
Reset the mail box to original empty state\&. 

.SH "Author"
.PP 
Generated automatically by Doxygen for uCXpresso\&.BLE from the source code\&.
